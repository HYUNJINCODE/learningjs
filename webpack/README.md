# 웹팩이란?

webpack은 최신 프런트엔드 프레임워크에서 가장 많이 사용되는 모듈 번들러(Module Bundler)이다. 모듈 번들러란 웹 애플리케이션을 구성하는 자원(HTML, CSS, JS, Img)을 모두 각각의 모듈로 보고 이를 조합해서 병합된 하나의 결과물을 만드는 도구를 의미한다.

### 모듈이란?

모듈이란 프로그래밍 관점에서 특정 기능을 갖는 작은 코드 단위를 의미한다. 아래와 같은 코드가 모듈이다.

```javascript
//math.js
function sum(a, b) {
  return a + b;
}

function substract(a, b) {
  return a - b;
}

const pi = 3.14;

export { sum, substract, pi };
```

이처럼 성격이 비슷한 기능들을 하나의 의미 있는 파일로 관리하면 모듈이 된다.

### 웹팩에서의 모듈

웹팩에서 지칭하는 모듈의 개념은 자바스크립트의 모듈에만 국한되지 않고 웹 어플리케이션을 구성하는 모든 자원을 의미한다. 모든 파일 하나하나가 모듈!

### 모듈 번들링이란?

아래와 같이 웹어플리케이션을 구성하는 몇십 몇백개의 자원들을 하나의 파일로 병합, 압축해주는 동작이다. (빌드 = 번들링 = 변환)
![modulebundleing](https://joshua1988.github.io/webpack-guide/assets/img/webpack-bundling.e79747a1.png)

### 웹팩의 등장 배경

1. 파일 단위의 자바스크립트 모듈 관리의 필요성
2. 웹 개발 작업 자동화 도구(Web Task Manager)
3. 웹 어플리케이션의 빠른 로딩 속도와 높은 성능

### 파일 단위의 자바스크립트 모듈 관리

```html
<!-- index.html -->
<html>
  <head>
    <!-- ... -->
  </head>
  <body>
    <!-- ... -->
    <script src="./app.js"></script>
    <script src="./main.js"></script>
  </body>
</html>
```

```javascript
// app.js
var num = 10;
function getNum() {
  console.log(num);
}
// main.js
var num = 20;
function getNum() {
  console.log(num);
}
```

자바스크립트 변수 유효범위는 전역범위인데, 실제 어플리케이션을 개발 할때 위와 같은 문제점을 만나게 된다.
이러한 문제점은 실제로 복잡한 어플리케이션을 개발할때 발생한다.
파일 단위를 변수로 관리하고 싶은 욕구, 자바스크립트 모듈화에 대한 욕구를 예전까지는 AMD, Common.js 라이브러리 로 풀어왔다.

### 웹 개발 작업 자동화 도구

이전부터 프런트엔드 개발 업무를 할 때 가장 많이 반복하는 작업은 텍스트 편집기에서 코드를 수정하고 저장한 뒤 브라우저에서 새로 고침을 누르는 것이었습니다. 그래야 화면에 변경된 내용을 볼 수 있었죠.
이외에도 웹 서비스를 개발하고 웹 서버에 배포할 때 아래와 같은 작업들을 해야 했습니다.

HTML, CSS, JS 압축
이미지 압축
CSS 전처리기 변환

이러한 일들을 자동화 해주는 도구들이 필요했습니다. 그래서 Grunt와 Gulp 같은 도구들이 등장했습니다.

### 웹 어플리케이션 빠른 로딩 속도와 높은 성능

웹사이트의 로딩속도를 높이기 위한 노력중 대표적인 노력은 브라우저에서 서버로 요청하는 파일 숫자를 줄이는 것이였다. 이를 위해 앞에서 살펴본 웹 태스크 매니저를 이용해서 파일을 압축하고, 병합하는 작업을 진행하였다. 뿐만아니라 초기 페이지 로딩 속도를 높이기 위해 나중에 필요한 자원들은 나중에 요청하는 레이지 로딩(Lazy Loading)이 등장했다. 웹팩은 기본적으로 필요한 자원은 미리 로딩하는게 아니라 그때 그때 요청하자는 철학을 가지고 있다.

### 웹팩으로 해결하려는 문제?

1. 자바스크립트 변수 유효범위
2. 브라우저별 HTTP 요청 숫자의 제약
3. 사용하지 않는 코드의 관리
4. Dynamic Loading & Lazy Loading 미지원

### 자바스크립트 변수 유효 범위 문제

웹팩은 변수 유효 범위의 문제점을 ES6의 Modules 문법과 웹팩의 모듈 번들링으로 해결한다.

### 브라우저별 HTTP 요청 숫자의 제약

TCP 스펙에 따라 브라우저에서 한번에 서버로 보낼 수 있는 HTTP 요청 숫자는 제약되어있다. 따라서, HTTP 요청 숫자를 줄이는 것이 웹 애플리케이션의 성능을 높여줄 뿐 아니라 사용자가 사이트를 조작하는 시간을 당겨준다. (클라이언트가 서버에 HTTP요청을 보내기 위해서는 먼저 TCP/IP가 연결되어야 한다.)
웹팩을 이용해서 여러개의 파일을 합치면 위와 같은 브라우저별 HTTP 요청 숫자 제약을 피할 수 있다.

### Dynamic Loading & Lazy Loading 미지원

Require.js와 같은 라이브러리를 쓰지 않으면 동적으로 원하는 순간에 모듈을 로딩하는 것이 불가능 했습니다. 그러나 이젠 웹팩의 Code Splitting 기능을 이용하여 원하는 모듈을 원하는 타이밍에 로딩할 수 있습니다

### Hello Webpack

[practice01](https://github.com/HYUNJINE/Frontend/tree/master/webpack/practice/practice01)
